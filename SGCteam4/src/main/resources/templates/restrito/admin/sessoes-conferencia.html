<!DOCTYPE html>
<html lang="pt-BR"
      xmlns:layout="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorator="layouts/main" xmlns:td="http://www.w3.org/1999/xlink">
<head>
    <meta charset="UTF-8"/>
    <title>Sessoes da conferencia - SGC</title>
</head>
<body>

<div id="integrantes" layout:fragment="content">


    <!-- formulario de login-->
    <section layout="column" layout-align="center center" >
        <md-card >
            <md-card-content>

                <h1>Sessoes da conferencia </h1>
                <h1 th:text="${obj.nomeConferencia}"></h1>
                <div th:if="${sessoes != null and #lists.size(sessoes) != 0}">
                    <table class="table table-hover">
                        <thead>
                        <th>
                            <p>nome</p>
                        </th>
                        <th>
                            <p>inicio</p>
                        </th>
                        <th>
                            <p>fim</p>
                        </th>
                        </thead>
                        <tbody>
                        <tr th:each="sessao : ${sessoes}">
                            <td>
                                <p th:text="${sessao.nome}"></p>
                            </td>
                            <td>
                                <p th:text="${sessao.inicio}"></p>
                            </td>
                            <td>
                                <p th:text="${sessao.fim}"></p>
                            </td>
                            <td>

                                <form th:method="delete" th:action="@{/admin/sessoes-conferencia}">
                                    <input type="hidden" th:value="${sessao.id}" name="sessao_id"/>
                                    <input type="hidden" th:value="${obj.id}" name="conferencia_id"/>
                                    <div th:if="${adc != null}">
                                        <input name="adc" type="hidden" th:value="${adc}"/>
                                    </div>

                                    <md-button type="submit" class="md-fab md-mini" aria-label="Remover">
                                        <span> <i class="fa fa-close"></i> </span>
                                    </md-button>
                                </form>

                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>



                <form name="formulario" method="post" th:action="@{/admin/sessoes-conferencia}">

                    <input name="conferencia_id" type="hidden" th:value="${obj.id}"/>


                    <div layout="row">
                        <md-input-container class="md-block">
                            <label>Nome da sessao</label>
                            <input type="text" name="nome"  ng-model="main.nome" ng-minlength="5" ng-maxlength="100"
                                   required="required"  />
                            <div class="help-block" ng-messages="formulario.nome.$error">
                                <p ng-message="minlength">Nome muito curto.</p>
                                <p ng-message="maxlength">Nome muito longo.</p>
                                <p ng-message="required">É obrigatório colocar o nome.</p>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Abreviação da sessao</label>
                            <input type="text" name="abreviacao"  ng-model="main.abreviacao" ng-minlength="4" ng-maxlength="20"
                                   required="required"  />
                            <div class="help-block" ng-messages="formulario.abreviacao.$error">
                                <p ng-message="minlength">Abreviacao muito curta.</p>
                                <p ng-message="maxlength">Abreviacao muito longa.</p>
                                <p ng-message="required">É obrigatório colocar a abreviacao.</p>
                            </div>
                        </md-input-container>


                    </div>


                    <div layout="row">
                        <md-input-container class="md-block">
                            <label>Inicio da sessao</label>
                            <input type="datetime-local" name="inicio"  ng-model="main.inicio"
                                   required="required"  />
                            <div class="help-block" ng-messages="formulario.inicio.$error">
                                <p ng-message="required">É obrigatório colocar o inico da sessao.</p>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Fim da sessao</label>
                            <input type="datetime-local" name="fim"  ng-model="main.fim"
                                   required="required"  />
                            <div class="help-block" ng-messages="formulario.fim.$error">
                                <p ng-message="required">É obrigatório colocar o fim da sessao.</p>
                            </div>
                        </md-input-container>
                    </div>

                    <div layout="row">

                        <div th:if="${adc != null}">
                            <input name="adc" type="hidden" th:value="${adc}"/>

                            <a th:href="@{/admin/conferencia-consulta}" >
                                <md-button class="md-raised md-primary">Conferencias</md-button>
                            </a>
                        </div>

                        <md-button type="submit" class="md-raised md-primary">Adicionar sessao</md-button>
                    </div>


                </form>



            </md-card-content>
        </md-card>
    </section>
</div>



</body>
</html>